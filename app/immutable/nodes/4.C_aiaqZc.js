import{H as u}from"../chunks/control.CYgJF_JY.js";import{d as c,a as l,t as d}from"../chunks/disclose-version.3svCrsF6.js";import{i as v}from"../chunks/legacy.B_57t12C.js";import{p as w,f as _,a as g,a8 as p,a5 as h,ax as y}from"../chunks/utils.RIT-VyeY.js";import{i as S}from"../chunks/store.NuZ8tbDJ.js";import{p as b}from"../chunks/props.C8fmRdit.js";import{o as x}from"../chunks/index-client.BbVhJQV7.js";import{p as P,s as j,r as E,G as k}from"../chunks/Game.D7c2dtw4.js";function i(r,e){throw new u(r,e)}new TextEncoder;const O=async({params:r,fetch:e})=>{const{puzzleId:o}=r;try{const a=await e(`/puzzles/${o}.json`);if(!a.ok)throw i(404,`Puzzle "${o}" not found`);const s=await a.text(),n=JSON.parse(s);return{puzzle:{id:o,data:n}}}catch(a){throw a instanceof SyntaxError?i(500,`Invalid puzzle format for ${o}`):i(500,a instanceof Error?a.message:"Unknown error")}},A=Object.freeze(Object.defineProperty({__proto__:null,load:O},Symbol.toStringTag,{value:"Module"}));var F=d("<div>Loading puzzle...</div>");function D(r,e){w(e,!1);let o=b(e,"data",8),a=y(!1);x(()=>{if(!p(a))try{const t=P(o().puzzle.data);requestAnimationFrame(()=>{j(t),E(),h(a,!0)})}catch(t){console.error("Puzzle initialization failed:",t)}}),v();var s=c(),n=_(s);{var f=t=>{k(t,{})},m=t=>{var z=F();l(t,z)};S(n,t=>{p(a)?t(f):t(m,!1)})}l(r,s),g()}export{D as component,A as universal};
