import{H as u}from"../chunks/control.CYgJF_JY.js";import{b as c}from"../chunks/paths.C6tDwKeN.js";import{d,a as p,t as v}from"../chunks/disclose-version.X1mjziy_.js";import{i as _}from"../chunks/legacy.CL9GlO2d.js";import{p as w,f as g,a as h,Z as l,_ as b,$ as y}from"../chunks/utils.FBOUsyea.js";import{i as S}from"../chunks/store.CwWqV19U.js";import{p as P}from"../chunks/props.CDZpVoAy.js";import{o as j}from"../chunks/index-client.Dk2x2RJG.js";import{p as x,s as E,a as k,r as O,G as F}from"../chunks/Game.DLItPyPx.js";function i(r,e){throw new u(r,e)}new TextEncoder;const G=async({params:r,fetch:e})=>{const{puzzleId:o}=r;try{const t=await e(`${c}/puzzles/${o}.json`);if(!t.ok)throw i(404,`Puzzle "${o}" not found`);const s=await t.text(),n=JSON.parse(s);return{puzzle:{id:o,data:n}}}catch(t){throw t instanceof SyntaxError?i(500,`Invalid puzzle format for ${o}`):i(500,t instanceof Error?t.message:"Unknown error")}},D=Object.freeze(Object.defineProperty({__proto__:null,load:G},Symbol.toStringTag,{value:"Module"}));var H=v("<div>Loading puzzle...</div>");function L(r,e){w(e,!1);let o=P(e,"data",8),t=y(!1);j(()=>{if(!l(t))try{const a=x(o().puzzle.data);requestAnimationFrame(()=>{E(a),k(),O(),b(t,!0)})}catch(a){console.error("Puzzle initialization failed:",a)}}),_();var s=d(),n=g(s);{var m=a=>{F(a,{})},f=a=>{var z=H();p(a,z)};S(n,a=>{l(t)?a(m):a(f,!1)})}p(r,s),h()}export{L as component,D as universal};
