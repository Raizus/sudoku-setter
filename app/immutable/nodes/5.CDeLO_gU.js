import{a as c,t as h,d as O}from"../chunks/disclose-version.MO2MFdNj.js";import{i as B}from"../chunks/legacy.sN80Fe4S.js";import{p as C,c as s,r as t,s as b,t as _,a as F,f as S,_ as $,Z as m,$ as E}from"../chunks/utils.DP-F0xIN.js";import{s as z}from"../chunks/render.3Jdrsfl8.js";import{i as M}from"../chunks/store.LjYb6QFI.js";import{e as U,i as Z}from"../chunks/each.BW2jvj41.js";import{o as q}from"../chunks/index-client.jiOaxa6s.js";import{s as L}from"../chunks/attributes.H32U76MF.js";import{p as A}from"../chunks/props.DNCAbpfG.js";import{b as T}from"../chunks/paths.DvIp4L-R.js";const D=!0,ie=Object.freeze(Object.defineProperty({__proto__:null,prerender:D},Symbol.toStringTag,{value:"Module"}));var G=h('<span class="difficulty svelte-i9jl2i"> </span>'),H=h('<a class="card svelte-i9jl2i"><div class="thumbnail svelte-i9jl2i"><img class="svelte-i9jl2i"></div> <div class="content svelte-i9jl2i"><h3 class="svelte-i9jl2i"> </h3> <div class="meta svelte-i9jl2i"><span class="authors"> </span> <!></div> <p class="description svelte-i9jl2i"> </p></div></a>');function I(d,g){C(g,!1);let a=A(g,"puzzle",8);B();var v=H(),n=s(v),p=s(n);t(n);var j=b(n,2),f=s(j),w=s(f,!0);t(f);var e=b(f,2),l=s(e),y=s(l);_(()=>z(y,`By ${a().authors.join("; ")??""}`)),t(l);var x=b(l,2);{var k=o=>{var u=G(),P=s(u,!0);t(u),_(()=>z(P,a().difficulty)),c(o,u)};M(x,o=>{a().difficulty&&o(k)})}t(e);var r=b(e,2),i=s(r);_(()=>z(i,`${a().description.slice(0,200)??""}...`)),t(r),t(j),t(v),_(()=>{L(v,"href",`${T??""}/puzzle/${a().id??""}`),L(p,"src",a().thumbnail),L(p,"alt",`${a().title??""} thumbnail`),z(w,a().title)}),c(d,v),F()}var J=h('<div class="loading svelte-505dsw">Loading puzzles...</div>'),K=h('<div class="error svelte-505dsw"> </div>'),N=h('<div class="list-container svelte-505dsw"><div class="puzzle-list svelte-505dsw"></div></div>');function Q(d,g){C(g,!1);let a=E(),v=E(!0),n=E(null);q(async()=>{try{const e=await fetch(`${T}/puzzles.json`);if(!e.ok)throw new Error("Failed to fetch puzzles");$(a,await e.json())}catch(e){$(n,e instanceof Error?e.message:"Unknown error occurred")}finally{$(v,!1)}}),B();var p=O(),j=S(p);{var f=e=>{var l=J();c(e,l)},w=e=>{var l=O(),y=S(l);{var x=r=>{var i=K(),o=s(i,!0);t(i),_(()=>z(o,m(n))),c(r,i)},k=r=>{var i=N(),o=s(i);U(o,5,()=>m(a),Z,(u,P)=>{I(u,{get puzzle(){return m(P)}})}),t(o),t(i),c(r,i)};M(y,r=>{m(n)?r(x):r(k,!1)},!0)}c(e,l)};M(j,e=>{m(v)?e(f):e(w,!1)})}c(d,p),F()}function le(d){Q(d,{})}export{le as component,ie as universal};
