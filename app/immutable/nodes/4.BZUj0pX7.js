import{H as u}from"../chunks/control.CYgJF_JY.js";import{b as c}from"../chunks/paths.Cr8bktup.js";import{d,a as p,t as v}from"../chunks/disclose-version.3svCrsF6.js";import{i as w}from"../chunks/legacy.B_57t12C.js";import{p as _,f as g,a as h,a8 as l,a5 as b,ax as y}from"../chunks/utils.RIT-VyeY.js";import{i as S}from"../chunks/store.NuZ8tbDJ.js";import{p as x}from"../chunks/props.C8fmRdit.js";import{o as P}from"../chunks/index-client.BbVhJQV7.js";import{p as j,s as E,r as k,G as O}from"../chunks/Game.CvpfzVwO.js";function i(r,e){throw new u(r,e)}new TextEncoder;const F=async({params:r,fetch:e})=>{const{puzzleId:o}=r;try{const a=await e(`${c}/puzzles/${o}.json`);if(!a.ok)throw i(404,`Puzzle "${o}" not found`);const s=await a.text(),n=JSON.parse(s);return{puzzle:{id:o,data:n}}}catch(a){throw a instanceof SyntaxError?i(500,`Invalid puzzle format for ${o}`):i(500,a instanceof Error?a.message:"Unknown error")}},L=Object.freeze(Object.defineProperty({__proto__:null,load:F},Symbol.toStringTag,{value:"Module"}));var G=v("<div>Loading puzzle...</div>");function N(r,e){_(e,!1);let o=x(e,"data",8),a=y(!1);P(()=>{if(!l(a))try{const t=j(o().puzzle.data);requestAnimationFrame(()=>{E(t),k(),b(a,!0)})}catch(t){console.error("Puzzle initialization failed:",t)}}),w();var s=d(),n=g(s);{var m=t=>{O(t,{})},f=t=>{var z=G();p(t,z)};S(n,t=>{l(a)?t(m):t(f,!1)})}p(r,s),h()}export{N as component,L as universal};
